{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\battu\\\\OneDrive\\\\Desktop\\\\Projects\\\\ComicProject\\\\frontend\\\\src\\\\pages\\\\Browse.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { comicsAPI, ratingsAPI } from '../services/api';\nimport ComicCard from '../components/ComicCard';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Browse = () => {\n  _s();\n  const [comics, setComics] = useState([]);\n  const [userRatings, setUserRatings] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchComics();\n    fetchUserRatings();\n  }, []);\n  const fetchComics = async () => {\n    try {\n      const response = await comicsAPI.getComics();\n      setComics(response.data);\n    } catch (err) {\n      setError('Failed to fetch comics');\n    }\n  };\n  const fetchUserRatings = async () => {\n    try {\n      const response = await ratingsAPI.getUserRatings();\n      const ratingsMap = {};\n      response.data.forEach(rating => {\n        ratingsMap[rating.comic_id] = rating.rating;\n      });\n      setUserRatings(ratingsMap);\n    } catch (err) {\n      console.error('Failed to fetch user ratings:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRate = async (comicId, rating) => {\n    try {\n      await ratingsAPI.createRating(comicId, rating);\n      setUserRatings(prev => ({\n        ...prev,\n        [comicId]: rating\n      }));\n    } catch (err) {\n      console.error('Failed to rate comic:', err);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"comic-title text-5xl mb-4 text-red-600\",\n        children: \"Marvel Comics Collection!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"speech-bubble max-w-2xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"comic-text text-lg\",\n          children: \"Discover amazing Marvel comic books and rate them to get personalized recommendations! Each comic features authentic Marvel covers from our API!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), comics.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comic-panel p-8 max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"comic-subtitle text-xl mb-2\",\n          children: \"No Comics Available!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"comic-text\",\n          children: \"Check back later for new Marvel adventures!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n      children: comics.map(comic => /*#__PURE__*/_jsxDEV(ComicCard, {\n        comic: comic,\n        userRating: userRatings[comic.id],\n        onRate: handleRate\n      }, comic.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Browse, \"xqhykgrmDpm/E2UgBBsLwj6dT1s=\");\n_c = Browse;\nexport default Browse;\nvar _c;\n$RefreshReg$(_c, \"Browse\");","map":{"version":3,"names":["React","useState","useEffect","comicsAPI","ratingsAPI","ComicCard","LoadingSpinner","jsxDEV","_jsxDEV","Browse","_s","comics","setComics","userRatings","setUserRatings","loading","setLoading","error","setError","fetchComics","fetchUserRatings","response","getComics","data","err","getUserRatings","ratingsMap","forEach","rating","comic_id","console","handleRate","comicId","createRating","prev","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","map","comic","userRating","id","onRate","_c","$RefreshReg$"],"sources":["C:/Users/battu/OneDrive/Desktop/Projects/ComicProject/frontend/src/pages/Browse.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { comicsAPI, ratingsAPI } from '../services/api';\r\nimport ComicCard from '../components/ComicCard';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst Browse = () => {\r\n  const [comics, setComics] = useState([]);\r\n  const [userRatings, setUserRatings] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchComics();\r\n    fetchUserRatings();\r\n  }, []);\r\n\r\n  const fetchComics = async () => {\r\n    try {\r\n      const response = await comicsAPI.getComics();\r\n      setComics(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch comics');\r\n    }\r\n  };\r\n\r\n  const fetchUserRatings = async () => {\r\n    try {\r\n      const response = await ratingsAPI.getUserRatings();\r\n      const ratingsMap = {};\r\n      response.data.forEach(rating => {\r\n        ratingsMap[rating.comic_id] = rating.rating;\r\n      });\r\n      setUserRatings(ratingsMap);\r\n    } catch (err) {\r\n      console.error('Failed to fetch user ratings:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRate = async (comicId, rating) => {\r\n    try {\r\n      await ratingsAPI.createRating(comicId, rating);\r\n      setUserRatings(prev => ({\r\n        ...prev,\r\n        [comicId]: rating\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to rate comic:', err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <div className=\"mb-8 text-center\">\r\n        <h1 className=\"comic-title text-5xl mb-4 text-red-600\">Marvel Comics Collection!</h1>\r\n        <div className=\"speech-bubble max-w-2xl mx-auto\">\r\n          <p className=\"comic-text text-lg\">\r\n            Discover amazing Marvel comic books and rate them to get personalized recommendations! Each comic features authentic Marvel covers from our API!\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {comics.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"comic-panel p-8 max-w-md mx-auto\">\r\n            <h3 className=\"comic-subtitle text-xl mb-2\">No Comics Available!</h3>\r\n            <p className=\"comic-text\">Check back later for new Marvel adventures!</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\r\n          {comics.map(comic => (\r\n            <ComicCard\r\n              key={comic.id}\r\n              comic={comic}\r\n              userRating={userRatings[comic.id]}\r\n              onRate={handleRate}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Browse;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}